{% extends "master.html" %}
{% block title %}Results{% endblock %}

{% block message %}
    <hr />
    <h4 class="text-center">MESSAGE</h4>
    <p class="text-center"><i>{{query}}</i></p>
{% endblock %}

{% block content %}
    <h1 class="text-center">Result</h1>
    
    <!-- Show classification results -->
    <ul class="list-group">
        {% for category, classification in classification_result.items() %}
            {% if classification == 1 %}
                <li class="list-group-item list-group-item-success text-center">{{category.replace('_', ' ').title()}}</li>
            {% else %}
                <li class="list-group-item list-group-item-dark text-center">{{category.replace('_', ' ').title()}}</li>
            {% endif %}
        {% endfor %}
    </ul>

    <hr />
    <div class="container">
        <h3 class="text-center">Additional Visualizations</h3>

        <!-- Word Cloud -->
        <div class="row">
            <div class="col-md-12">
                <h4 class="text-center">Word Cloud of Messages</h4>
                <div class="text-center">
                    <img src="data:image/png;base64,{{ wordcloud_img }}" alt="Word Cloud" style="max-width: 100%; height: auto;" />
                </div>
            </div>
        </div>

        <!-- Graphs Section -->
        <div class="row">
            {% for id in ids %}
                <div id="{{id}}" class="col-md-6" style="margin-bottom: 20px;"></div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
